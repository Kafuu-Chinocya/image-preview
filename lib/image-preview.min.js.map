{"version":3,"sources":["lib/image-preview.js"],"names":["_slicedToArray","arr","i","_arrayWithHoles","_iterableToArrayLimit","_unsupportedIterableToArray","_nonIterableRest","TypeError","Symbol","iterator","Object","_arr","_n","_d","_e","undefined","_i","_s","next","done","push","value","length","err","Array","isArray","_toConsumableArray","_arrayWithoutHoles","_iterableToArray","_nonIterableSpread","o","minLen","_arrayLikeToArray","n","prototype","toString","call","slice","constructor","name","from","test","iter","len","arr2","_classCallCheck","instance","Constructor","_defineProperties","target","props","descriptor","enumerable","configurable","writable","defineProperty","key","_createClass","protoProps","staticProps","window","addEventListener","preview","Preview","document","querySelector","e","show","src","this","_ui","_class","_this","tools","createElements","eleName","num","regeneratorRuntime","mark","_callee","wrap","_callee$","_context","prev","createElement","stop","eDistance","_ref","_ref2","_ref3","x1","y1","_ref4","x2","y2","Math","sqrt","pow","imgArgs","scale","rotate","translate","updateTransformStyle","imgLayer","style","transform","concat","join","resetImgArgs","console","log","setAttribute","createBackgroundLayer","_this2","backgroundLayer","classList","add","filterClassList","_i2","_filterClassList","contains","close","forEach","preventDefault","passive","body","insertBefore","firstElementChild","createContentLayer","_this3","contentLayer","_this$tools$createEle","_this$tools$createEle2","topBar","contentImgBox","bottomBar","barClass","appendChild","_this$_createBtn","_createBtn","_this$_createBtn2","leftRotate","rightRotate","zoomIn","zoomOut","_createImg","_this4","_this$tools$createEle3","_this$tools$createEle4","btnClass","_this5","touches","transition","nowTouches","clientX","clientY","nowDistance","oldDistance","v","parseFloat","toFixed","l","t","isLongClick","offsetLeft","offsetTop","x","y","lt","ls","top","left","detail","wheelDelta","flag","abs","querySelectorAll","destroy","removeChild","get","set","remove"],"mappings":"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"}